<template>
  <div class="day-appointments flex flex-col flex-1 gap-2 p-5 bg-gray-200 overflow-y-auto">
    <div v-for="item in day" :key="item._id" class="appointment flex justify-between items-center gap-4 bg-white rounded py-2 pl-4">
      <div class="item-start flex-1" @click="emit('appSelect', item)">
        <div class="name">{{ item.name }}</div>
        <div class="meta flex items-center gap-4">
          <div class="meta-time flex items-center gap-1">
            <svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M4.5 9C3.60999 9 2.73996 8.73608 1.99994 8.24161C1.25991 7.74715 0.683138 7.04434 0.342544 6.22208C0.00194977 5.39981 -0.0871652 4.49501 0.0864682 3.6221C0.260102 2.74918 0.688685 1.94736 1.31802 1.31802C1.94736 0.688685 2.74918 0.260102 3.6221 0.0864682C4.49501 -0.0871652 5.39981 0.00194977 6.22208 0.342544C7.04434 0.683138 7.74715 1.25991 8.24161 1.99994C8.73608 2.73996 9 3.60999 9 4.5C9 5.69348 8.52589 6.83807 7.68198 7.68198C6.83807 8.52589 5.69348 9 4.5 9ZM4.5 0.642859C3.73713 0.642859 2.99139 0.869076 2.35709 1.2929C1.72278 1.71673 1.2284 2.31914 0.936466 3.02394C0.644529 3.72874 0.568144 4.50428 0.716973 5.25249C0.865802 6.0007 1.23316 6.68798 1.77259 7.22741C2.31202 7.76684 2.9993 8.1342 3.74751 8.28303C4.49572 8.43186 5.27126 8.35547 5.97607 8.06354C6.68087 7.7716 7.28327 7.27722 7.7071 6.64291C8.13093 6.00861 8.35714 5.26287 8.35714 4.5C8.35714 3.47702 7.95077 2.49594 7.22741 1.77259C6.50406 1.04924 5.52298 0.642859 4.5 0.642859Z"
                fill="#3A99FF"
              />
              <path d="M5.97452 6.42857L4.17773 4.63179V1.60715H4.82059V4.365L6.42773 5.97536L5.97452 6.42857Z" fill="#3A99FF" />
            </svg>
            <span>{{ new Date(item.date).getHours() + ":" + new Date(item.date).getMinutes() }}</span>
          </div>
          <div class="meta-price flex items-center gap-1">
            <svg width="9" height="13" viewBox="0 0 9 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.44487 5.4365V3.3696C6.17213 3.53458 6.88307 3.84881 7.46474 4.34315L7.46717 4.34008C7.51062 4.37218 7.56334 4.39426 7.62334 4.39426C7.70231 4.39426 7.77003 4.35889 7.81679 4.30676L7.8201 4.30737L8.76023 3.07909L8.75802 3.07807C8.79662 3.03677 8.82221 2.98443 8.82221 2.92555C8.82221 2.85604 8.78846 2.79512 8.73684 2.75198C7.86488 2.00557 6.7516 1.55743 5.44487 1.42271V0.235721C5.44487 0.105492 5.33082 0 5.19031 0H4.18048C4.03997 0 3.92615 0.105492 3.92615 0.235721V1.39265C1.74459 1.6022 0.451974 2.89039 0.451974 4.40305C0.451974 6.43989 2.26186 7.02398 3.92615 7.39852V9.71974C2.85743 9.54229 1.97907 9.02894 1.38151 8.45425C1.37732 8.44996 1.37291 8.44628 1.36828 8.44239L1.3568 8.43197L1.35504 8.43422C1.3108 8.39906 1.25471 8.37932 1.19644 8.37841C1.15106 8.37878 1.10664 8.39054 1.06788 8.41242C1.02912 8.43431 0.997477 8.4655 0.9763 8.50271L0.973212 8.5023L0.063307 9.75429L0.0644101 9.75634C0.0235173 9.79832 0.000607381 9.85271 0 9.90926C0 9.98429 0.0401461 10.0481 0.0988211 10.0912L0.0963947 10.0945C0.985123 10.9182 2.22943 11.5172 3.92615 11.6521V12.7643C3.92615 12.8945 4.03997 13 4.18048 13H5.19031C5.33082 13 5.44465 12.8943 5.44465 12.7643L5.44487 11.6519C7.82032 11.427 9 10.1395 9 8.47674C9 6.42517 7.12549 5.82575 5.44487 5.4365ZM3.92593 5.09181C3.26352 4.89739 2.81089 4.6725 2.81089 4.23806C2.81089 3.72901 3.21499 3.3696 3.92593 3.27964V5.09181ZM5.44487 9.7498V7.743C6.15603 7.95255 6.65697 8.19257 6.65697 8.6865C6.65697 9.16591 6.26896 9.59994 5.44487 9.7498Z"
                fill="#33DA3A"
              />
            </svg>
            <span>{{ item.price }}</span>
          </div>
        </div>
      </div>
      <div class="item-end">
        <div class="remove-btn p-4" @click="emit('appRemove', item._id)">
          <svg width="14" height="17" viewBox="0 0 14 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M1.09963 15.675C1.09798 15.8918 1.18239 16.1004 1.33433 16.2551C1.48628 16.4097 1.69336 16.4978 1.91016 16.5H11.2891C11.5059 16.4978 11.713 16.4097 11.8649 16.2551C12.0169 16.1004 12.1013 15.8918 12.0996 15.675V4.67499H1.09963V15.675ZM2.19963 5.77499H10.9996V15.4H2.19963V5.77499Z"
              fill="#FF2929"
            />
            <path d="M3.57422 6.875H4.67422V13.75H3.57422V6.875Z" fill="#FF2929" />
            <path d="M6.05078 6.875H7.15078V13.75H6.05078V6.875Z" fill="#FF2929" />
            <path d="M8.52539 6.875H9.62539V13.75H8.52539V6.875Z" fill="#FF2929" />
            <path
              d="M9.075 2.475V0.825C9.075 0.362381 8.74885 0 8.3325 0H4.8675C4.45115 0 4.125 0.362381 4.125 0.825V2.475H0V3.575H13.2V2.475H9.075ZM5.225 1.1H7.975V2.475H5.225V1.1Z"
              fill="#FF2929"
            />
          </svg>
        </div>
      </div>
    </div>
    <span v-if="!day.length">На этот день нет записей</span>
  </div>
</template>

<script setup lang="ts">
const emit = defineEmits<{
  appSelect: [payload: {}];
  appRemove: [payload: string];
}>();

defineProps<{
  day: {};
}>();
</script>
